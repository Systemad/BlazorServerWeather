@page "/"
@using BlazorServer.Models

@inject WeatherServices Service

    <RadzenGrid AllowFiltering="true" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive" FilterMode="FilterMode.Advanced" AllowPaging="true" PageSize="100"
                AllowSorting="true" Data="@WeatherDays" TItem="WeatherDay" ColumnWidth="200px" AllowColumnResize="true">
        <Columns>
            <RadzenGridColumn TItem="WeatherDay" Property="WeatherId" Title="Weather ID" />
            <RadzenGridColumn TItem="WeatherDay" Property="Temperature" Title="Temperature" />
            <RadzenGridColumn TItem="WeatherDay" Property="WeekDay" Title="Week Day" />
            <RadzenGridColumn TItem="WeatherDay" Property="DateTime" Title="Date Time" />
        </Columns>
    </RadzenGrid>
@code {
    public IEnumerable<WeatherDay> WeatherDays;
    
    //List<WeatherDay> _weathers = new List<WeatherDay>();

    protected override async Task OnInitializedAsync()
    {
        await RefreshWeathers();
    }

    private async Task RefreshWeathers()
    {
        WeatherDays = await Service.GetWeatherAsync();
    }
}
